!function(root,factory){var i,resolved=[],required=["require","exports","module","angular"],len=required.length;if("function"==typeof define&&define.amd)define("ngtablesort",["require","exports","module","angular"],factory);else if("object"==typeof exports){for(i=0;i<len;i+=1)resolved.push(require(required[i]));module.exports=factory.apply({},resolved)}else{for(i=0;i<len;i+=1)resolved.push(root[required[i]]);root.ngtablesort=factory.apply({},resolved)}}(this,function(require,exports,module,angular){return function(){"use strict";angular.module("ngTableSort",[])}(),function(){"use strict";var module=angular.module("ngTableSort");module.directive("tableSort",function(){return{restrict:"A",scope:!0,controller:"TableSortController"}}),module.controller("TableSortController",["$scope","$filter",function($scope,$filter){"ngInject";var self=this,orderBy=$filter("orderBy"),tableSortField=null,tableSortReverse=null;self.getTableSortField=function(){return tableSortField},self.setTableSortField=function(config){tableSortField=config},self.getTableSortReverse=function(){return!!tableSortReverse},self.setTableSortReverse=function(reverse){tableSortReverse=reverse},self.tableSort=function(list){var field=self.getTableSortField(),reverse=self.getTableSortReverse();if(field){for(var i=0;i<list.length;i++)list[i].$$scope=$scope,list[i].$$this=list[i];list=orderBy(list,field,reverse);for(var j=0;j<list.length;j++)delete list[j].$$scope,delete list[j].$$this}return list},$scope.getTableSortField=self.getTableSortField,$scope.setTableSortField=self.setTableSortField,$scope.getTableSortReverse=self.getTableSortReverse,$scope.setTableSortReverse=self.setTableSortReverse,$scope.tableSort=self.tableSort}]),module.directive("tableSortField",function(){return{require:"^tableSort",restrict:"A",scope:!0,controller:"TableSortFieldController",link:function(scope,element,attrs,tableSortCtrl){scope.tableSortCtrl=tableSortCtrl,scope.tableSortField=attrs.tableSortField,scope.tableSortInitial=!angular.isUndefined(attrs.tableSortInitial)}}}),module.controller("TableSortFieldController",["$scope",function($scope){"ngInject";function initInitial(){var unwatch=$scope.$watch(function(){return $scope.tableSortField},function(tableSortField){tableSortField&&(unwatch(),$scope.tableSortInitial&&!$scope.tableSortCtrl.getTableSortField()&&$scope.tableSort())})}function init(){initInitial()}var self=this,reverse=!1;self.$onInit=init,self.tableSort=function(){var currentField=$scope.tableSortCtrl.getTableSortField(),selfField=$scope.tableSortField;reverse=currentField===selfField&&!reverse,$scope.tableSortCtrl.setTableSortField(selfField),$scope.tableSortCtrl.setTableSortReverse(reverse)},self.current=function(){return $scope.tableSortCtrl.getTableSortField()===$scope.tableSortField},self.reverse=function(){return!!reverse},$scope.tableSort=self.tableSort,$scope.current=self.current,$scope.reverse=self.reverse}])}(),angular.module("ngTableSort")});